<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.121.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My Digital Chronicle</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://undying.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://undying.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://undying.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://undying.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://undying.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://undying.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://undying.github.io/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EM4NECWNX"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-6EM4NECWNX', { 'anonymize_ip': false });
}
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EM4NECWNX"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-6EM4NECWNX', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="My Digital Chronicle" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://undying.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="My Digital Chronicle"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "My Digital Chronicle",
  "url": "http://undying.github.io/",
  "description": "",
  "thumbnailUrl": "http://undying.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/undying", "https://stackoverflow.com/users/2020593/kron"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://undying.github.io" accesskey="h" title="My Digital Chronicle (Alt + H)">My Digital Chronicle</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://undying.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">VIM: File Autosave
    </h2>
  </header>
  <div class="entry-content">
    <p>I was wondering how to save file in VIM automatically. Found some solutions in internet but decided to do it my way. So I wrote this small solution:
&#34;&#34;&#34; Save file on each edit exit function FileAutoSave() if exists(&#39;g:file_autosave_async&#39;) return endif if @% == &#34;&#34; return elseif !filewritable(@%) return endif let g:file_autosave_async = 1 call timer_start(500, &#39;FileAutoSaveAsync&#39;, {&#39;repeat&#39;: 1}) endfunction function FileAutoSaveAsync(timer) update unlet g:file_autosave_async endfunction :autocmd InsertLeave,TextChanged * call FileAutoSave() &#34;&#34;&#34; It updates file in two cases:...</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-02 00:10:12 +0300 MSK'>June 2, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: File Autosave" href="http://undying.github.io/posts/2020-06-02-vim-file-autosave/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Route 53 Resolver: NXDOMAIN|SERVFAIL
    </h2>
  </header>
  <div class="entry-content">
    <p>What we have: On premises data center with own domain zone (domain.local) and dns servers AWS VPC with it’s own domain zone (domain.r53) and using Route 53 as DNS Server What we need: Ability to resolve domain zone hosted on premises DNS Servers from AWS VPC graph LR A[EC2 Instance] --&gt;|a.domain.local| B[Route 53 Forward] --&gt;|a.domain.local| C[DNS On Premises] The configuration is straightforward and well described in official documentation. You simply create rules:...</p>
  </div>
  <footer class="entry-footer"><span title='2020-05-29 11:24:01 +0300 MSK'>May 29, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Route 53 Resolver: NXDOMAIN|SERVFAIL" href="http://undying.github.io/posts/2020-05-29-route-53-resolver-servfail/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">PostgreSQL 11 Administration Summary
    </h2>
  </header>
  <div class="entry-content">
    <p>PostgreSQL Administration Cheatsheet Intro New In PostgreSQL 11 WAL Size CREATE STATISTICS INCLUDE indexes CREATE INDEX in parallel pg_prewarm Updated WINDOW Functions JIT Compilation Better Partitioning Default Partition Partition Key Updating Hash Partitioning Index Created on Parent Table Better Support Of Stored Procedures Faster ALTER TABLE Locks and Transactions now() function SAVEPOINT DDL commands are transaction safe Explicit Locking FOR SHARE and FOR UPDATE SKIP LOCKED Using CTE with RETURNING FOR SHARE and FOR UPDATE FOR … clauses by locking strength FOR UPDATE SKIP LOCKED Recommended Locks VACUUM autovacuum Transaction ID Wraparound Transaction Duration Indexing Costs Model PostgreSQL Administration Cheatsheet Intro This cheatsheet is based on the great book about PostgreSQL 11 Administration...</p>
  </div>
  <footer class="entry-footer"><span title='2020-05-22 09:48:49 +0300 MSK'>May 22, 2020</span></footer>
  <a class="entry-link" aria-label="post link to PostgreSQL 11 Administration Summary" href="http://undying.github.io/posts/2020-05-22-postgresql-11-administration-summary/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">command not found: ck-unlock-session
    </h2>
  </header>
  <div class="entry-content">
    <p>This evening I was updating my Gentoo laptop. While updating, my session were locked with the message, that to unlock it I have to use ck-unlock-session. Unfortunately shell told me that there is no such command on my laptop:
└&gt; ck-unlock-session zsh: command not found: ck-unlock-session In the vastness of the Internet found the solution, but it’s too long to remember:
dbus-send --system --print-reply --dest=&#34;org.freedesktop.ConsoleKit&#34; /org/freedesktop/ConsoleKit/Session1 org.freedesktop.ConsoleKit.Session.Unlock Session1 - session name and it may differs....</p>
  </div>
  <footer class="entry-footer"><span title='2019-07-25 14:27:00 +0000 +0000'>July 25, 2019</span></footer>
  <a class="entry-link" aria-label="post link to command not found: ck-unlock-session" href="http://undying.github.io/posts/2019-12-29-ck-unlock-session-alias/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker: Mounting block devices into container
    </h2>
  </header>
  <div class="entry-content">
    <p>Today was curious is it possible to mount block device into a docker container without mounting it on system. It’s not well documented but found one interesting comment in github.
So, if –mount option in docker run command is “magic” on top of “mount” system call, we can use it. After experimenting a bit here is an example mounting lvm volumes.
First, let’s create loop device for LVM:
dd if=/dev/zero of=/tmp/loop bs=1M count=100 losetup /dev/loop0 /tmp/loop Then, making an LVM device:...</p>
  </div>
  <footer class="entry-footer"><span title='2019-07-25 14:27:00 +0000 +0000'>July 25, 2019</span></footer>
  <a class="entry-link" aria-label="post link to Docker: Mounting block devices into container" href="http://undying.github.io/posts/2019-07-25-mounting_block_devices_into_docker/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Gentoo: Building FireFox 63.0.3
    </h2>
  </header>
  <div class="entry-content">
    <p>Today I was trying to update FireFox on my Gentoo box and failed with error:
0:06.75 checking rustc version... 1.30.1 0:06.75 ERROR: Cargo package manager not found. 0:06.75 To compile Rust language sources, you must have &#39;cargo&#39; in your path. 0:06.75 See https://www.rust-lang.org/ for more information. 0:06.75 0:06.75 You can install cargo by running &#39;./mach bootstrap&#39; 0:06.75 or by directly running the installer from https://rustup.rs/ 0:06.75 0:06.79 *** Fix above errors and then restart with\ 0:06....</p>
  </div>
  <footer class="entry-footer"><span title='2018-11-21 05:10:00 +0000 +0000'>November 21, 2018</span></footer>
  <a class="entry-link" aria-label="post link to Gentoo: Building FireFox 63.0.3" href="http://undying.github.io/posts/2018-11-21-building_firefox_on_gentoo/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Gentoo: Backslash as Yen char
    </h2>
  </header>
  <div class="entry-content">
    <p>If while browsing the internet you have a problem with backslash character which displayed as yen sign you can fix it this way.
First, let’s install the appropriate fonts.
emerge -av media-fonts/droid Then we have to enable them for wide system.
eselect fontconfig enable 59-google-droid-sans.conf eselect fontconfig enable 59-google-droid-sans-mono.conf eselect fontconfig enable 59-google-droid-serif.conf Next step is to clean fonts cache.
fc-cache -rf That’s all.
P.S. Also I had a problem displaying cyrillic characters....</p>
  </div>
  <footer class="entry-footer"><span title='2017-02-19 15:47:00 +0300 MSK'>February 19, 2017</span></footer>
  <a class="entry-link" aria-label="post link to Gentoo: Backslash as Yen char" href="http://undying.github.io/posts/2017-02-19-backslash_as_yen/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Pure Bash script for IO usage monitoring
    </h2>
  </header>
  <div class="entry-content">
    <p>I had the need to implement pure bash solution for IO usage monitoring without any tools installed on OS, do this fast and accurately. After little reaserching about /sys/ filesystem the next script was born:
#! /bin/bash SLEEP=0.01 declare -A ops=() for dev in /sys/block/*;do dev=${dev##*/} ops&#43;=( [${dev}]=0 ) done for i in $(seq 1 100);do while read _ _ drive _ _ _ _ _ _ _ _ tasks _ _;do [ -n &#34;${drive}&#34; ] || continue case ${tasks} in 0|[!...</p>
  </div>
  <footer class="entry-footer"><span title='2016-09-13 02:39:00 +0300 MSK'>September 13, 2016</span></footer>
  <a class="entry-link" aria-label="post link to Pure Bash script for IO usage monitoring" href="http://undying.github.io/posts/2016-09-13-pure_bash_io_usage_monitoring/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">libgcc_s.so: cannot open shared object file
    </h2>
  </header>
  <div class="entry-content">
    <p>Как то вечером, я решил, что стоит лечь по-раньше спать. Подумал, что надо бы выспаться, все дела, но перед этим просто загляну в ноутбук, и тут началось. Для чего то я одновременно запустил rtorrent &#43; emerge -vuDN @world. Стоит ли говорить, что система установлена на шпиндельном hdd, поверх которого работает ssd cache (Bcache). Видимо из-за нагрузки, ноутбук завис и ни на какие действия не реагировал. “Семь бед - один ресет”, подумал я и перезагрузил ноутбук....</p>
  </div>
  <footer class="entry-footer"><span title='2016-04-29 02:04:00 +0300 MSK'>April 29, 2016</span></footer>
  <a class="entry-link" aria-label="post link to libgcc_s.so: cannot open shared object file" href="http://undying.github.io/posts/2016-04-29-lib_gcc_s_so-cannot_open_shared_object_file/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker: Using docker with LVM Thin Pool
    </h2>
  </header>
  <div class="entry-content">
    <p>Docker is the nice tool for almost every use case in my sphere. It’s easy to use, it’s fast to build and deploy. Docker can be used with miscellaneous storage drivers such as btrfs, datamapper, overlayfs, aufs. A long time I was using docker with btrfs backend and everything seems to be nice, but when load on this server increased, corrupted layers are began to appear.
It looks like build process in the next RUN step unable to find files from previous step....</p>
  </div>
  <footer class="entry-footer"><span title='2016-02-08 00:21:00 +0300 MSK'>February 8, 2016</span></footer>
  <a class="entry-link" aria-label="post link to Docker: Using docker with LVM Thin Pool" href="http://undying.github.io/posts/2016-02-08-using-docker-with-lvm-thin-volumes/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://undying.github.io/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://undying.github.io/page/3/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://undying.github.io">My Digital Chronicle</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
