<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.115.0"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My Digital Chronicle</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://undying.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://undying.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://undying.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://undying.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://undying.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://undying.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://undying.github.io/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5GK4JRS');</script>

<meta property="og:title" content="My Digital Chronicle" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://undying.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="My Digital Chronicle"/>
<meta name="twitter:description" content=""/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "My Digital Chronicle",
  "url": "http://undying.github.io",
  "description": "",
  "thumbnailUrl": "http://undying.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/undying", "https://stackoverflow.com/users/2020593/kron"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://undying.github.io" accesskey="h" title="My Digital Chronicle (Alt + H)">My Digital Chronicle</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://undying.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="first-entry"> 
  <header class="entry-header">
    <h2>Runlevels in Systemd
    </h2>
  </header>
  <div class="entry-content">
    <p>Once, when loading into Asahi, the keyboard stopped working after loading the X server. It was necessary to boot into a bare terminal without starting the X server, but how to do it?
One of the rough options is to boot into bash as an init process. The second option is to redefine the runlevel to the one in which X does not run.
To do this, when loading grub, go to the edit start line menu by pressing the “e” key....</p>
  </div>
  <footer class="entry-footer"><span title='2023-04-07 10:18:38 +0300 MSK'>April 7, 2023</span></footer>
  <a class="entry-link" aria-label="post link to Runlevels in Systemd" href="http://undying.github.io/posts/2023-04-07t1018z--runlevels-in-systemd/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Moving from MacOS to Asahi Linux
    </h2>
  </header>
  <div class="entry-content">
    <p>Moving from MacOS to Asahi Linux Status Hardware 3.5mm Audio Jack: ⚠ (It’s been detected properly, but not working) 1 Bluetooth: ✅ Camera: ❌ Fingerprint: ❌ HDMI: ❌ Speakers: ❌ Touchpad: ✅ Wi-Fi: ✅ Software Obsidian: ✅ RVM: ⚠ (rvm is installed but ruby build fails) Slack: ❌ Telegram: ✅ Zoom: ❌ Functionality Brightness Control: ✅ Hibernate: ❌ Suspend to RAM: ⚠ (OS is being suspended but laptop is keep working and draining battery) References Asahi Feature Support </p>
  </div>
  <footer class="entry-footer"><span title='2023-04-03 00:22:42 +0300 MSK'>April 3, 2023</span></footer>
  <a class="entry-link" aria-label="post link to Moving from MacOS to Asahi Linux" href="http://undying.github.io/posts/2023-04-03t0000z--moving-from-macos-to-asahi-linux/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>VIM: Handle Urls
    </h2>
  </header>
  <div class="entry-content">
    <p>Making a shortcut to open urls under cursor Note: There is also available gx shortcut that uses netrw plugin. But I’ve decided to use own little solution instead of big plugin for one function.
&#34;&#34;&#34; open urls using \u shortcut function HandleURL() let l:uri = matchstr(getline(&#34;.&#34;), &#39;[a-z]*:\/\/[^ &gt;,;)]*&#39;) if l:uri != &#34;&#34; silent call system(&#34;xdg-open &#34; . shellescape(l:uri, 1)) else echo &#34;No URI found in line.&#34; endif endfunction nnoremap &lt;leader&gt;u :call HandleURL()&lt;cr&gt; &#34;&#34;&#34; Now if we hit \u shortcut while our cursor is on the url line, this url will be opened in default browser....</p>
  </div>
  <footer class="entry-footer"><span title='2020-10-15 22:32:39 +0300 MSK'>October 15, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: Handle Urls" href="http://undying.github.io/posts/2020-10-15-vim--handle-urls/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>VIM: Making Markdown Checklist Shortcut
    </h2>
  </header>
  <div class="entry-content">
    <p>Interesting exercise to implement shortcut in vim. Often while writing markdown files in vim I’m writing a lot of checkboxes. It’s a bit annoying to do by hand so let’s make a script and bind it to shortcut.
&#34;&#34;&#34; markdown shortcuts function MarkdownCheckboxInsert() let l:line = line(&#39;.&#39;) let l:str = getline(l:line) let l:match = matchlist(l:str, &#39;^\([ ]*\)\?\([-&#43;*]\)\? \?\(.*\)$&#39;) if empty(l:match[2]) let l:list_syn = &#39;-&#39; else let l:list_syn = l:match[2] endif let l:buf = l:match[1] ....</p>
  </div>
  <footer class="entry-footer"><span title='2020-10-14 23:45:53 +0300 MSK'>October 14, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: Making Markdown Checklist Shortcut" href="http://undying.github.io/posts/2020-10-14-vim--making-markdown-checklist-shortcut/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>VIM: YCM and Pipenv
    </h2>
  </header>
  <div class="entry-content">
    <p>While writing another python script under pipenv I have met a problem that YCM autocomplete worked only for built in functions. That was annoying because without autocomplete YCM looses it’s sense.
Solution Let’s create module for filetype plugin.
cat ~/.vim/after/ftplugin/python.vim if !empty($VIRTUAL_ENV) let g:ycm_server_python_interpreter = $VIRTUAL_ENV . &#39;/bin/python&#39; let $PYTHONPATH = finddir(&#39;site-packages&#39;, $VIRTUAL_ENV . &#39;/lib/*&#39;) endif Then you can simply run command
pipenv run vim some/script.py And now YCM works correctly :3</p>
  </div>
  <footer class="entry-footer"><span title='2020-10-14 23:03:02 +0300 MSK'>October 14, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: YCM and Pipenv" href="http://undying.github.io/posts/2020-10-14-vim-ycm-and-pipenv/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>ZSH: auto git config.user
    </h2>
  </header>
  <div class="entry-content">
    <p>On my laptop and desktop I usually have many git repositories. Some of them are personal and some of them are from my main job. In companies it’s common practice to have corporate email that used in repository configuration.
git config user.name &#34;Mr Anderson&#34; git config user.email &#34;anderson@corp.in&#34; In personal repository you may use some cool nickname and personal email.
git config user.name &#34;Neo&#34; git config user.email &#34;0xff@matr.ix&#34; But there is an headache to not forget configure every repository to be corporate or personal after cloning....</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-25 22:36:59 +0300 MSK'>June 25, 2020</span></footer>
  <a class="entry-link" aria-label="post link to ZSH: auto git config.user" href="http://undying.github.io/posts/2020-06-25-zsh--auto-git-config.user/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Network: Capturing TCP Retransmissions
    </h2>
  </header>
  <div class="entry-content">
    <p>When server have a lot network connections it’s not rare to see tcp retransmissions. The permanent background retransmissions it’s even normal situation if it’s not abnormally high.
But when the charts shows abnormally jump of retransmissions it’s good to find the reason.
The reason is may be:
server is overloaded remote server is overloaded network where servers is based is degraded network of remote endpoint is degraded When servers is not overloaded the next step is to find which endpoint causes the retransmissions....</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-20 16:04:35 +0300 MSK'>June 20, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Network: Capturing TCP Retransmissions" href="http://undying.github.io/posts/2020-06-20-capturing-tcp-retransmissions/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>VIM: Append Filetype
    </h2>
  </header>
  <div class="entry-content">
    <p>If you open a file with a non-standard extension, syntax highlighting will not work. This is easily solved by installing filetype manually.
:set filetype=markdown You can add a hint for VIM about the file type to the file so that you don’t have to set the type manually the next time.
~ cat Readme # vi:syntax=markdown I wanted to make a hotkey to add information about its type to the end of the file....</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-06 22:47:03 +0300 MSK'>June 6, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: Append Filetype" href="http://undying.github.io/posts/2020-06-06-vim-append-filetype/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>VIM: File Autosave
    </h2>
  </header>
  <div class="entry-content">
    <p>I was wondering how to save file in VIM automatically. Found some solutions in internet but decided to do it my way. So I wrote this small solution:
&#34;&#34;&#34; Save file on each edit exit function FileAutoSave() if exists(&#39;g:file_autosave_async&#39;) return endif if @% == &#34;&#34; return elseif !filewritable(@%) return endif let g:file_autosave_async = 1 call timer_start(500, &#39;FileAutoSaveAsync&#39;, {&#39;repeat&#39;: 1}) endfunction function FileAutoSaveAsync(timer) update unlet g:file_autosave_async endfunction :autocmd InsertLeave,TextChanged * call FileAutoSave() &#34;&#34;&#34; It updates file in two cases:...</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-02 00:10:12 +0300 MSK'>June 2, 2020</span></footer>
  <a class="entry-link" aria-label="post link to VIM: File Autosave" href="http://undying.github.io/posts/2020-06-02-vim-file-autosave/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Route 53 Resolver: NXDOMAIN|SERVFAIL
    </h2>
  </header>
  <div class="entry-content">
    <p>What we have: On premises data center with own domain zone (domain.local) and dns servers AWS VPC with it’s own domain zone (domain.r53) and using Route 53 as DNS Server What we need: Ability to resolve domain zone hosted on premises DNS Servers from AWS VPC graph LR A[EC2 Instance] --&gt;|a.domain.local| B[Route 53 Forward] --&gt;|a.domain.local| C[DNS On Premises] The configuration is straightforward and well described in official documentation. You simply create rules:...</p>
  </div>
  <footer class="entry-footer"><span title='2020-05-29 11:24:01 +0300 MSK'>May 29, 2020</span></footer>
  <a class="entry-link" aria-label="post link to Route 53 Resolver: NXDOMAIN|SERVFAIL" href="http://undying.github.io/posts/2020-05-29-route-53-resolver-servfail/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://undying.github.io/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="http://undying.github.io">My Digital Chronicle</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
